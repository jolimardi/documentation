"use strict";(globalThis.webpackChunkdocumentation=globalThis.webpackChunkdocumentation||[]).push([[5815],{8348(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"laravel/Features/jm-sections","title":"Jolimardi/Laravel-sections","description":"Sections","source":"@site/docs/laravel/Features/jm-sections.md","sourceDirName":"laravel/Features","slug":"/laravel/Features/jm-sections","permalink":"/documentation/docs/laravel/Features/jm-sections","draft":false,"unlisted":false,"editUrl":"https://github.com/jolimardi/documentation/docs/laravel/Features/jm-sections.md","tags":[],"version":"current","frontMatter":{"title":"Jolimardi/Laravel-sections"},"sidebar":"laravelSidebar","previous":{"title":"Jolimardi/Laravel-menu","permalink":"/documentation/docs/laravel/Features/jm-menu"},"next":{"title":"Jolimardi/Laravel-flash","permalink":"/documentation/docs/laravel/Features/jm-flash"}}');var t=i(4848),a=i(8453);const o={title:"Jolimardi/Laravel-sections"},r=void 0,l={},c=[{value:"Sections",id:"sections",level:3},{value:"Importer le CSS",id:"importer-le-css",level:3},{value:"Utilisation dans les Views",id:"utilisation-dans-les-views",level:3},{value:"Option vid\xe9o",id:"option-vid\xe9o",level:3},{value:"Ajouter une section dans Nova",id:"ajouter-une-section-dans-nova",level:2},{value:"Package required par le packages",id:"package-required-par-le-packages",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h3,{id:"sections",children:"Sections"}),"\n",(0,t.jsx)(n.p,{children:"Ex\xe9cuter les commandes suivantes :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'php artisan vendor:publish --provider="JoliMardi\\MySections\\MySectionsServiceProvider"\ncomposer require jolimardi/laravel-sections:dev-main\nphp artisan migrate\n'})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:":dev-main"})," permet d'outre-passer la v\xe9rification de stabilit\xe9 pour le moment."]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Il est d\xe9j\xe0 possible d'utiliser le composant ",(0,t.jsx)(n.code,{children:"<x-section><x-section />"})," ici."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Importer le css des sections :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",metastring:'title="resources/css/app.css"',children:'@import "../../vendor/jolimardi/laravel-sections/dist/sections.css";\n'})}),"\n",(0,t.jsx)(n.p,{children:"Envoyer les identifiants des sections \xe0 la vue :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",metastring:'title="app/Http/Controllers/IndexController.php"',children:"<?php\n\nnamespace App\\Http\\Controllers;\n\nuse App\\Models\\Section;\n\nclass IndexController extends Controller {\n\n    public function homepage() {\n\n        //keyBy permet de mettre une column (ici \"$section->key\") en index du tableau au lieu de 0 => $item1, 1 => $item2 etc.\n        $sections = Section::where('key', 'LIKE', 'home.%')->get()->keyBy('key');\n\n        return view('homepage', compact('sections'));\n\n    }\n\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Il est maintenant possible d'utiliser le composant ",(0,t.jsx)(n.code,{children:"<x-section><x-section />"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"importer-le-css",children:"Importer le CSS"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",metastring:'title="resources/css/app.css"',children:'@import "../../public/vendor/mysections/sections.css";\n'})}),"\n",(0,t.jsx)(n.h3,{id:"utilisation-dans-les-views",children:"Utilisation dans les Views"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"<body>\n    @mySection($all_sections_from_db, $key_of_the_section_to_display)\n</body>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"option-vid\xe9o",children:"Option vid\xe9o"}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:" Option vid\xe9o youtube"}),(0,t.jsx)(n.p,{children:"Si vos sections text-with-image ne comprendront pas de vid\xe9o \xe0 la place de l'image. Alors il faut modifier la sections text-with-image en enlevant les partie surlign\xe9."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",metastring:"title='resources/views/vendor/laravel-sections/text-with-image.blade.php'",children:"...\n<div class=\"section-image\">\n    // highlight-start\n    @if (isset($section->video_url))\n        <div class=\"video-container\">\n            {{-- <x-youtube :youtube='$section->video_url' :youtube-thumbnail-media=\"$section->getFirstMedia('video_thumbnail')\" /> --}}\n            <x-youtube-inline :youtube='$section->video_url' />\n        </div>\n    @else\n    // highlight-end\n        {{ $section->getFirstMedia('image')->img('', ['alt' => $section->title]) }}\n        // highlight-start\n    @endif\n    // highlight-end\n</div>\n...\n"})}),(0,t.jsxs)(n.p,{children:["Sinon, il faut ajouter le composant youtube-inline.blade.php dans ",(0,t.jsx)(n.code,{children:"resources/views/components"})," :"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",metastring:"title='resources/views/components/youtube-inline.blade.php'",children:'@if (isset($youtube))\n    <div class="video-thumbnail ratio-16x9">\n\n        <iframe src="https://www.youtube.com/embed/{{ $youtube }}?&loop=1&playlist={{ $youtube }}&rel=0&controls=1&autoplay=1&mute=1&start=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>\n\n    </div>\n@endif\n'})})]}),"\n",(0,t.jsx)(n.h2,{id:"ajouter-une-section-dans-nova",children:"Ajouter une section dans Nova"}),"\n",(0,t.jsx)(n.h3,{id:"package-required-par-le-packages",children:"Package required par le packages"}),"\n",(0,t.jsx)(n.p,{children:"Par d\xe9faut le package utilise de sous packages pour fonctionner, voici les commandes pour les installer si n\xe9cessaire, \xe0 \xe9x\xe9cuter avant l'installation du package de pr\xe9f\xe9rence."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"m-a-k-o/youtube-field"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:"title='console'",children:"composer require m-a-k-o/youtube-field\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"ebess/advanced-nova-media-library"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:"title='console'",children:'composer require ebess/advanced-nova-media-library\nphp artisan vendor:publish --provider="Spatie\\MediaLibrary\\MediaLibraryServiceProvider" --tag="migrations"\nphp artisan migrate\nphp artisan vendor:publish --provider="Spatie\\MediaLibrary\\MediaLibraryServiceProvider" --tag="config"\nphp artisan vendor:publish --tag=nova-media-library\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Plus d'information sur la documentation du package : ",(0,t.jsx)(n.a,{href:"https://github.com/jolimardi/laravel-sections",children:"https://github.com/jolimardi/laravel-sections"})]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>r});var s=i(6540);const t={},a=s.createContext(t);function o(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);